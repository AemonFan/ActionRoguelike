# ActionRoguelike
UE-斯坦福课程案例

项目介绍：
此项目是一个第三人称的多人战斗游戏。

角色3C：
Character：游戏主角是从UE官方网站下载的一个Character资源，带有一套动画，包含行走、跑、跳、冲刺、受伤、死亡等动作。
Camera：在 BP_PlayerCharacter 蓝图类中，给角色增加了SpringArmComponent（弹簧臂），在弹簧臂节点下增加了摄像机组件，用来展示角色。
Controller：ASPlayerController类用来管理 BP_PlayerCharacter，如：在角色状态发生变化时通过Broadcast进行同步；本地玩家UI交互等。
在 BP_PlayerCharacter 中为角色绑定了许多用户输入事件，玩家可通过操作键盘、鼠标来操作角色。如：1-3数字键可切换玩家投掷物类型；鼠标左键进行攻击；
WASD控制玩家移动、转向；空格键跳跃；F键交互；R键防卫攻击等。

角色技能：
默认技能是发射投掷物-魔法丸（使用快捷键1），被击中的敌人收到伤害-10，并附加BurningBuff，持续5每秒受到1点伤害，并在敌人头顶显示Buff效果。
通过1-2-3-4数字键，切换不同类型的投掷物。数字1-魔法丸，2-魔法龙卷风（需要消耗怒气值），3-瞬移技能。点击鼠标左键发射投掷物。
被攻击时，按下R键进行防御，敌人AI发射的投掷物会折返转而攻击AI。

关卡：
两个关卡：主菜单关卡、游戏关卡

UI：
开始游戏关卡中展示主菜单，玩家可以选择HostGame、JoinGame的方式进入游戏。
游戏关卡中，玩家可按下ESC键，呼出Pause菜单，选择退出游戏或继续游戏。
当玩家注视某个Actor时，会提示玩家交互信息。
游戏界面中展示玩家当前血量、怒气值、Credits；屏幕中间显示中心的，标记玩家投射物的目标点；屏幕右上角显示游戏开始时间。

HUD：
游戏主角和AI角色在头部显示血量、Buff效果，受到伤害时，会显示对应的伤害值。

道具：
道具在服务器玩家创建游戏时，通过ASGameModeBase 生成，同步到客户端玩家。
通过F键可拾取掉落在场景中的金币（获取Credits）、打开宝箱、拾取回血包（直接回血）。

敌人：
敌人在服务器玩家创建游戏时，通过ASGameModeBase 生成，同步到客户端玩家。
敌人生成后，通过 SAIController 运行 BehaviorTree。 敌人AI 会自动寻找角色，若在攻击范围内则进行攻击。
敌人AI检测血量是否偏低，是的话会自动寻路找到一个相对安全的区域进行回血。

存储：
游戏中生成的道具、以及玩家的血量、怒气值、Credits会进行缓存，等玩家下次加入游戏后会加载上一次缓存的数据，继续游戏。

多人网络同步：
玩家角色、敌人位置状态、以及血量、Buff等会进行同步。